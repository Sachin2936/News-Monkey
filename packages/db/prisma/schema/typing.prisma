model TypingResult {
  id                String   @id @default(cuid())
  userId            String
  user              User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  articleTitle      String
  articleSource     String
  articleUrl        String
  wpm               Int
  accuracy          Int
  errors            Int
  totalCharsTyped   Int
  cpm               Int
  category          String
  region            String   @default("us")
  publishedAt       DateTime?
  createdAt         DateTime @default(now())

  @@index([userId])
  @@map("typing_result")
}

model NewsArticle {
  id            String   @id @default(cuid())
  title         String
  content       String   @db.Text
  isFullContent Boolean  @default(false)
  sourceName    String
  url           String   @unique
  imageUrl      String?
  category      String
  publishedAt   DateTime
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  seenBy        UserSeenArticle[]

  @@index([category])
  @@map("news_article")
}

model UserSeenArticle {
  id         String   @id @default(cuid())
  userId     String
  articleId  String
  user       User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  article    NewsArticle @relation(fields: [articleId], references: [id], onDelete: Cascade)
  seenAt     DateTime @default(now())

  @@unique([userId, articleId])
  @@index([userId])
  @@map("user_seen_article")
}
